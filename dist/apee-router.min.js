"use strict";var ApeeRouter=function(){function t(t){this.routeList={},this.hashChanged=!1,null!=t&&t.default&&this.setDefaultRoute(t.default),null!=t&&t.routeSet&&this.setRouteOption(t.routeSet)}return t.prototype.setRouteOption=function(t){var e=this;if(!Array.isArray(t))throw new Error("routeSet 类型错误");t.forEach(function(t){if("string"==typeof t)e.set(t);else{if(!Array.isArray(t))throw new Error("routeSet 类型错误");2==t.length&&"string"!=typeof t[1]?e.set.apply(e,t):e.set(t)}})},t.prototype.setDefaultRoute=function(t){if("string"==typeof t)this.defaultRoute=this.set(t)[0];else{if(!Array.isArray(t))throw new Error("default 选项只能是 string | string[] 类型");this.defaultRoute=this.set.apply(this,t)[0]}},t.prototype.set=function(t,e){for(var o=Array.isArray(t)?t:[t],r=[],n=0;n<o.length;n++){var a=o[n],i=e?Array.isArray(e)?e:[e]:[],s=this.routeList[a];if(s)(u=s.event).push.apply(u,i),r.push(s);else{var u=this.getRouteDom(a);if(!u)throw new Error('data-route="'.concat(a,'" 的 HTML 元素没有找到'));s=this.routeList[a]={name:a,event:i,dom:u,data:{},args:[],status:0};r.push(s)}}return r},t.prototype.getRouteDom=function(t,e){o=(e=void 0===e?!1:e)&&t?'[data-route]:not([data-route="'.concat(t,'"]'):t?'[data-route="'.concat(t,'"]'):"[data-route]";var o,r=document.querySelectorAll(o);if(t&&!e&&0==r.length)throw new Error("".concat(o," 元素不存在"));return t&&!e?r[0]:r},t.prototype.loadRoute=function(e,t){this.getRouteDom(e.name,!0).forEach(function(t){t.style.display="none"}),this.getRouteDom(e.name).style.display="block",e.args=t,e.event.forEach(function(t){return t(e)})},t.prototype.start=function(){function t(t){t&&(o.hashChanged=!0);var t=(null==t?void 0:t.newURL)||location.href,e=(t=new URL(t).hash).split("/").slice(2);return""==t?r.loadRoute(r.defaultRoute,e):(t=t.split("/")[1],(t=r.routeList[t])?void r.loadRoute(t,e):location.hash="")}var o=this,r=this;this.defaultRoute||this.setDefaultRoute("home"),window.addEventListener("hashchange",t),t()},t.util={show:function(t){t&&(t instanceof Node?[t]:t).forEach(function(t){return t.style.display="block"})},hide:function(t){t&&(t instanceof Node?[t]:t).forEach(function(t){return t.style.display="none"})}},t}();