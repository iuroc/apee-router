"use strict";var ApeeRouter=function(){function t(t){this.routeList={},null!=t&&t.default&&this.setDefaultRoute(t.default)}return t.prototype.setDefaultRoute=function(t){if("string"==typeof t)this.defaultRoute=this.set(t)[0];else{if(!Array.isArray(t))throw new Error("default 选项只能是 string | string[] 类型");this.defaultRoute=this.set.apply(this,t)[0]}},t.prototype.set=function(t,e){for(var o=Array.isArray(t)?t:[t],r=[],n=0;n<o.length;n++){var a=o[n],u=e?Array.isArray(e)?e:[e]:[],i=this.routeList[a];if(i)(s=i.event).push.apply(s,u),r.push(i);else{var s=this.getRouteDom(a);if(!s)throw new Error('data-route="'.concat(a,'" 的 HTML 元素没有找到'));i=this.routeList[a]={name:a,event:u,dom:s,data:{},args:[],status:0};r.push(i)}}return r},t.prototype.getRouteDom=function(t,e){o=(e=void 0===e?!1:e)&&t?'[data-route]:not([data-route="'.concat(t,'"]'):t?'[data-route="'.concat(t,'"]'):"[data-route]";var o,r=document.querySelectorAll(o);if(0==r.length)throw new Error("".concat(o," 元素不存在"));return t&&!e?r[0]:r},t.prototype.loadRoute=function(e,t){this.getRouteDom(e.name,!0).forEach(function(t){t.style.display="none"}),this.getRouteDom(e.name).style.display="block",e.args=t,e.event.forEach(function(t){return t(e)})},t.prototype.start=function(){function t(t){var t=(null==t?void 0:t.newURL)||location.href,e=(t=new URL(t).hash).split("/").slice(2);return""==t?o.loadRoute(o.defaultRoute,e):(t=t.split("/")[1],(t=o.routeList[t])?void o.loadRoute(t,e):location.hash="")}var o=this;this.defaultRoute||this.setDefaultRoute("home"),window.addEventListener("hashchange",t),t()},t.util={show:function(t){t&&(t instanceof Node?[t]:t).forEach(function(t){return t.style.display="block"})},hide:function(t){t&&(t instanceof Node?[t]:t).forEach(function(t){return t.style.display="none"})}},t}();