# APEE 路由控制模块 v2

## 使用方法


- 创建 `ApeeRouter` 对象

    ```ts
    const router = new ApeeRouter()
    ```

- 注册路由

    ```ts
    /** route 事件 */
    const routeEvent: RouteEvent = (route) => {
        let routeName = route.name
        const routeDom = route.dom
        const routeData = route.data
    }
    ```

    ```ts
    // 通过构造参数注册路由
    new ApeeRouter({
        /** 默认路由名称 */
        default: ['home', routeEvent],
        // default: ['home', [routeEvent, routeEvent]],
        // default: 'home',
        /** 路由名称列表 */
        routes: [
            'about',
            [ ['list'], routeEvent],
            [ ['one', 'two'], [routeEvent, routeEvent] ]
        ]
    })
    ```

    ```ts
    // 通过 set 方法注册路由
    router.set('about')
    router.set('about', routeEvent)
    router.set(['home', 'list'])
    router.set(['home', 'list'], routeEvent)
    ```



## 情境分析

1. 设置路由
   1. 路由已存在，将新的 `event` 添加到原路由的事件队列中
   2. 路由不存在，则创建路由，初始化路由
2. 合法路由，载入路由
3. 错误路由（路由不存在、DOM 不存在），跳转空路由
4. 空路由，载入默认路由